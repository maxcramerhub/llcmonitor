{% extends 'base.html' %}

{% block title %}Monitor{% endblock %}

{% block content %}
<div class="container ml-0 mt-5">
    <div class="row">
        <div class="col">
            <h1 style="color:white">Student Sign-in</h1>
        </div>
    </div>
</div>

<div class="card p-2 m-4 shadow-lg">
    <div class="card-body">
        <h3>Welcome {{ student_name }}!</h3>
        
        <h4>Select what class you are here for!</h4>
        <form method="POST" action="{% url 'monitor:class_check' %}">
            {% csrf_token %}
            <ul class="nav nav-tabs" id="subjectTabs" role="tablist">
            <!-- tabs based on subjects in views.py -->
                {% for class in classes %}
                <li class="nav-item">
                    <input type="radio" name="selected_course" id="class_{{ class.id }}" 
                        value="{{ class.class_id }}" 
                        {% if forloop.first %}checked{% endif %} 
                        class="btn-check">
                    <label class="nav-link {% if forloop.first %}active{% endif %}"
                        for="class_{{ class.id }}"
                        id="{{ subject|slugify }}-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#{{ subject|slugify }}">
                        {{ class.class_id }}
                    </label>
                </li>
                {% endfor %}
            </ul>

            {% if signed_in == False %}
            <button type="submit" name="action" value="checkin" class="btn btn-primary me-2 mt-3 p-3 h3"><i class="fa-solid fa-circle-check"></i> Check In</button>
            {% else %}
            <button type="submit" name="action" value="checkout" class="btn btn-primary me-2 p-3 h3" {% if some_condition %}disabled{% endif %}><i class="fa-solid fa-door-open"></i> Check Out</button>
            <button type="submit" name="action" value="swap" class="btn btn-warning me-2 p-3 h3"{% if some_condition %}disabled{% endif %}><i class="fa-solid fa-right-left"></i>Switch Class</button>
            {% endif %}
            <button type="submit" name="action" value="addclass" class="btn btn-success me-2 p-3 h3"><i class="fa-solid fa-graduation-cap"></i> New Class</button>
        </form>

{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}